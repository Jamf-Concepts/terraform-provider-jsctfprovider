---
page_title: "jsc_entra_idp Resource - jsc"
subcategory: ""
description: |-
  Manages an Entra (Azure AD) identity provider connection in JSC.
---

# jsc_entra_idp (Resource)

Manages an Entra (Azure AD) identity provider connection in JSC. Used to configure end-user authentication via Azure AD for ZTNA app access.

## OAuth Consent Requirement

Entra IdP connections require a manual consent step that cannot be automated. During `terraform apply`, the resource:

1. Creates the Entra connection in JSC
2. Triggers a consent transaction to generate a Microsoft OAuth URL
3. **Prints the URL to the console** — visit it in a browser to grant consent
4. After completing consent, run `terraform refresh` to update the `state` attribute to `APPROVED`

The consent URL is **not stored in Terraform state** to avoid persisting OAuth tokens in state backends.

## Notes

- Update is implemented as delete + recreate — a new consent URL will be printed
- If the connection is deleted outside Terraform, the next `terraform plan` will detect drift and offer to recreate it
- Connection states: `INITIAL` → `PENDING` → `APPROVING` → `APPROVED` | `DENIED`

## Example Usage

```hcl
resource "jsc_entra_idp" "entra_connection" {
  name = "Entra IdP"
}

output "entra_idp_state" {
  value = jsc_entra_idp.entra_connection.state
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Display name for the Entra IdP connection.

### Read-Only

- `id` (String) The ID of this resource.
- `state` (String) Current state of the IdP connection. `INITIAL` until Microsoft OAuth consent is completed, then `APPROVED`.
