---
page_title: "jsc_app Resource - jsc"
subcategory: ""
description: |-
  Manages a ZTNA per-app routing policy in JSC via the traffic-routing-service API.
---

# jsc_app (Resource)

Manages a ZTNA per-app routing policy in JSC. Traffic to the configured hostnames or IPs is routed through JSC's network, subject to the configured security controls.

Used in the SwiftConnect Mini Onboarder to route traffic to SwiftConnect provisioning servers, ensuring devices must pass posture checks before reaching SwiftConnect infrastructure.

## Relationship to jsc_ztna and jsc_pag_ztnaapp

- `jsc_ztna` targets the older `/api/app-definitions` endpoint
- `jsc_pag_ztnaapp` targets the PAG API (`api.wandera.com/ztna/v1/apps`) using PAG JWT auth
- `jsc_app` targets the modern gateway API (`/gate/traffic-routing-service/v1/apps`) using standard session auth â€” this is what the JSC UI calls today

## Notes

- Update is implemented as delete + recreate (no confirmed PUT endpoint)
- A 404 on read causes Terraform to mark the resource as destroyed and recreate on next `apply`
- When `routingtype = "DIRECT"`, `routingid` and `routingdnstype` are omitted from the request
- `routingid` values can be obtained from the `jsc_pag_vpnroutes` datasource

## Example Usage

```hcl
resource "jsc_app" "swiftconnect_access_policy" {
  name      = "SwiftConnect Provisioning"
  type      = "ENTERPRISE"
  hostnames = ["provisioning.swiftconnect.io"]

  routingtype = "CUSTOM"
  routingid   = "a7d2"

  assignmentallusers = true

  securityriskcontrolenabled   = true
  securityriskcontrolthreshold = "HIGH"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the ZTNA App. Must be unique across the tenant.

### Optional

- `assignmentgroups` (List of String) List of group IDs to assign this ZTNA app policy to.
- `assignmentallusers` (Boolean) Assign this ZTNA app policy to all users. Default: `false`.
- `bareips` (List of String) List of bare IPs in IPv4 CIDR notation.
- `categoryname` (String) Category name for the app. Default: `Uncategorized`.
- `hostnames` (List of String) List of hostnames to route through this ZTNA policy.
- `routingdnstype` (String) DNS IP resolution type. `IPv4` or `IPv6`. Ignored when `routingtype` is `DIRECT`. Default: `IPv6`.
- `routingid` (String) The VPN route ID. Required when `routingtype` is `CUSTOM`. Obtain from `jsc_pag_vpnroutes` datasource.
- `routingtype` (String) Routing type. `CUSTOM` routes via a specific VPN route; `DIRECT` routes without a relay. Default: `CUSTOM`.
- `securitydevicemanagementbasedaccessenabled` (Boolean) Enable device management based access control. Default: `false`.
- `securitydevicemanagementbasedaccessnotifications` (Boolean) Enable notifications for device management based access events. Default: `false`.
- `securitydohintegrationblocking` (Boolean) Enable DNS-over-HTTPS blocking. Default: `false`.
- `securitydohintegrationnotifications` (Boolean) Enable notifications for DoH integration events. Default: `true`.
- `securityriskcontrolenabled` (Boolean) Enable device risk controls for this app policy. Default: `false`.
- `securityriskcontrolnotifications` (Boolean) Enable notifications for risk control events. Default: `true`.
- `securityriskcontrolthreshold` (String) Risk level threshold for access. `HIGH`, `MEDIUM`, or `LOW`. Default: `HIGH`.
- `type` (String) The app type. Use `ENTERPRISE` for SwiftConnect routing. Default: `ENTERPRISE`.

### Read-Only

- `id` (String) The ID of this resource.
